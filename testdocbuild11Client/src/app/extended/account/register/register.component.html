<section class="spinner-container" *ngIf="loading" style="z-index: 99999999">
  <mat-spinner></mat-spinner>
</section>
<div class="login-container">
  <mat-card class="item-card">
    <mat-card-title class="text-center">
      <figure class="logo">
        <img src="../../assets/images/logo.png" alt="logo" style="border-radius: 46px" />
      </figure>
      <figcaption class="text-center">
        <h2 class="sub-title">{{ 'ACCOUNT.REGISTER.TITLE' | translate }}</h2>
      </figcaption>
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="itemForm" #loginNgForm="ngForm" (ngSubmit)="onSubmit()" class="item-form">
        <mat-form-field>
          <input formControlName="firstName" matInput placeholder="First name" />
          <mat-error *ngIf="!itemForm.get('firstName').valid && itemForm.get('firstName').touched">
            {{ 'GENERAL.ERRORS.REQUIRED' | translate }}</mat-error
          >
        </mat-form-field>

        <mat-form-field>
          <input formControlName="lastName" matInput placeholder="Last name" />
          <mat-error *ngIf="!itemForm.get('lastName').valid && itemForm.get('lastName').touched">
            {{ 'GENERAL.ERRORS.REQUIRED' | translate }}</mat-error
          >
        </mat-form-field>

        <mat-form-field>
          <input formControlName="userName" matInput placeholder="Username" />
          <mat-error *ngIf="!itemForm.get('userName').valid && itemForm.get('userName').touched">
            {{ 'GENERAL.ERRORS.REQUIRED' | translate }}</mat-error
          >
        </mat-form-field>

        <mat-form-field>
          <input type="password" matInput placeholder="New password" formControlName="password" required />
          <mat-error *ngIf="itemForm.hasError('required', 'password')">
            {{ 'GENERAL.ERRORS.REQUIRED' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input
            matInput
            type="password"
            placeholder="Confirm password"
            formControlName="confirmPassword"
            pattern="{{ itemForm.get('password').value }}"
          />

          <mat-error *ngIf="!itemForm.get('confirmPassword').valid && itemForm.get('confirmPassword').touched">
            {{ 'GENERAL.ERRORS.PASSWORD-MISMATCH' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input formControlName="emailAddress" matInput placeholder="Email" />
          <mat-error *ngIf="!itemForm.get('emailAddress').valid && itemForm.get('emailAddress').touched">
            {{ 'GENERAL.ERRORS.REQUIRED' | translate }}</mat-error
          >
        </mat-form-field>

        <mat-form-field>
          <input formControlName="phoneNumber" matInput placeholder="Phone" />
        </mat-form-field>

        <mat-card-actions class="item-action text-center">
          <button name="save" mat-raised-button color="primary" class="btn-submit">
            {{ 'ACCOUNT.REGISTER.TITLE' | translate }}
          </button>
        </mat-card-actions>
        <span
          [innerHTML]="'ACCOUNT.REGISTER.LOGIN-MESSAGE' | translate"
          [routerLink]="['/login']"
          style="text-align: center"
        >
        </span>
      </form>
    </mat-card-content>
  </mat-card>
</div>
